################################################################################
#
# An inventory to use to set up a machine on EC2 or other cloud provider.
# To use this add the following into your /etc/hosts file:
#
# 12.12.12.12.14	<%= LA_cas_hostname %>
#
# You'll need to replace "12.12.12.14" with the IP address of your newly created
# Ubuntu 16 instance. For this auth demo to run well, we recommend a machine of
# 4GB RAM, 2 CPUs.
#
# When ready remember to enable CAS in your other inventories with:
#
# disable_cas = false
# bypass_cas = false
#
################################################################################

[cas-servers]

<%= LA_cas_hostname %>

###### CAS

[cas-servers:vars]

cas_server_name=<%= LA_urls_prefix %><%= LA_cas_hostname %>
cas_host_name=<%= LA_cas_hostname %>
cas_hostname=<%= LA_cas_hostname %>
cas_url=<%= LA_urls_prefix %><%= LA_cas_hostname %>/cas
cas_base_url=<%= LA_urls_prefix %><%= LA_cas_hostname %>
cas_context_path=cas
skin_favicon_baseurl=<%= LA_urls_prefix %><%= LA_domain %>/favicon/

cas_management_server_name=<%= LA_urls_prefix %><%= LA_cas_hostname %>

# If you run CAS for the fist time without these four keys it will be autogenerated and later you can copy-paste here (see /var/log/atlas/cas/cas.log after first start to copy these autogenerated keys)
# See also https://apereo.github.io/cas/5.0.x/installation/Configuring-SSO-Session-Cookie.html
#
# You cannot put here and arbitrary string key, because needs to be of some size, etc (better autogenerate leaving this empty, and later get them from the logs, copy here, and re-run the inventory).
#
# Better edit: quick-start-cas-5-local-extras.yml with these values
#

pac4j_cookie_signing_key=
pac4j_cookie_encryption_key=

cas_webflow_signing_key=
cas_webflow_encryption_key=

# http://www.pac4j.org/docs/clients.html
# https://apereo.github.io/cas/5.1.x/installation/OAuth-OpenId-Authentication.html

pac4j_facebook_consumer_key=to_be_added_in_the_near_future
pac4j_facebook_consumer_secret=to_be_added_in_the_near_future

pac4j_twitter_consumer_key=to_be_added_in_the_near_future
pac4j_twitter_consumer_secret=to_be_added_in_the_near_future

pac4j_google_consumer_key=to_be_added_in_the_near_future
pac4j_google_consumer_secret=to_be_added_in_the_near_future

pac4j_github_consumer_key=to_be_added_in_the_near_future
pac4j_github_consumer_secret=to_be_added_in_the_near_future

pac4j_linkedin_consumer_key=to_be_added_in_the_near_future
pac4j_linkedin_consumer_secret=to_be_added_in_the_near_future

pac4j_windows_consumer_key=to_be_added_in_the_near_future
pac4j_windows_consumer_secret=to_be_added_in_the_near_future

pac4j_yahoo_consumer_key=to_be_added_in_the_near_future
pac4j_yahoo_consumer_secret=to_be_added_in_the_near_future

# Sample of Oauth configuration:
# Go to your Github organization settings, add a Oauth App
# with:
# Homepage url: https://<%= LA_cas_hostname %>/
# Authorization callback URL: https:///<%= LA_cas_hostname %>/cas/login
# put here the key and secret, and rerun the playbook
pac4j_github_consumer_key=to_be_added_in_the_near_future
pac4j_github_consumer_secret=to_be_added_in_the_near_future

userdetails_base_url=<%= LA_urls_prefix %><%= LA_cas_hostname %>/userdetails
user_create_password=to_be_added_in_the_near_future
endpoints_enabled=true
user_store_db_name=emmet
user_store_db_hostname=localhost
user_store_db_username=userstore
user_store_db_password=userstore
ticket_registry_db_name=casTicketRegistry
ticket_registry_db_hostname=localhost
ticket_registry_db_username=ticket
ticket_registry_db_password=ticket
user_store_db_encoding_salt=salt
user_store_db_encoding_algorithm=MD5
support_email=support@<%= LA_domain %>

auth_cookie_domain=<%= LA_domain %>
auth_cookie_secure=false
# Don't change the cookie name, is only used for configuring CAS
# and is a static string (ALA_AUTH_COOKIE) in the rest of ALA,
# so don't change it...
# auth_cookie_name=ALA-Auth

pac4j_callback_url=<%= LA_urls_prefix %><%= LA_cas_hostname %>/cas/login

userdetails_server_name=<%= LA_urls_prefix %><%= LA_cas_hostname %>
userdetails_hostname=<%= LA_cas_hostname %>
userdetails_url=<%= LA_urls_prefix %><%= LA_cas_hostname %>/userdetails
userdetails_base_url=<%= LA_urls_prefix %><%= LA_cas_hostname %>
userdetails_context_path=userdetails

user_store_db_name=emmet
user_store_db_hostname=localhost
user_store_db_username=userstore
user_store_db_password=userstore

apikey_server_name=<%= LA_urls_prefix %><%= LA_cas_hostname %>
apikey_hostname=<%= LA_cas_hostname %>
apikey_context_path=apikey
apikey_base_url=<%= LA_urls_prefix %><%= LA_cas_hostname %>
apikey_url=<%= LA_urls_prefix %><%= LA_cas_hostname %>/apikey
apikey_db_dump={{inventory_dir}}/../roles/apikey/files/apikey_schema.sql

apikey_db_name=apikey
apikey_db_username=apikey
apikey_db_password=apikey
apikey_db_hostname=localhost

oauth_providers_flickr_key=somekey
oauth_providers_flickr_secret=somesecret

sightings_base_url=
volunteer_base_url=

bootadmin_enabled=false
bootadmin_username=admin23
bootadmin_password=23admin

# This role do not install redis, so none right now
# spring_session_store_type=redis
spring_session_store_type=none

# False => setup db from scratch
cas_db_migration_baseline=false
apikey_db_migration_baseline=false

server_tz = Europe/Paris

mysql_root_username=root
mysql_root_password=password
cas_db_username=cas
cas_db_password=password
cas_db_hostname=localhost
cas_flyway_username=flyway
cas_flyway_password=password

user_details_version=2.2.0
apikey_version=1.3
cas_version=5.3.3-1-SNAPSHOT
cas_management_version=5.3.1-1-SNAPSHOT

ssl=false

cas_tickets_host=localhost
cas_tickets_db=cas-ticket-registry
cas_tickets_username=tickets
cas_tickets_password=password
cas_services_host=localhost
cas_services_db=cas-service-registry
cas_services_username=services
cas_services_password=password

mongodb_root_username=admin
mongodb_root_password=password

# use bs container or container-fluid (leave empty to use non fluid)
skin_fluid_layout = true
